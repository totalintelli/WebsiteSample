<html>

<head>
  <title>그래프 : 보고서 - 월 일별 발전 현황</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- 합쳐지고 최소화된 최신 CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
  <!-- 부가적인 테마 -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
  <!-- 합쳐지고 최소화된 최신 자바스크립트 -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script type="text/javascript" src="./Site/jqplot/jquery.jqplot.js"></script>
  <script type="text/javascript" src="./Site/jqplot/plugins/jqplot.barRenderer.js"></script>
  <script type="text/javascript" src="./Site/jqplot/plugins/jqplot.pieRenderer.js"></script>
  <script type="text/javascript" src="./Site/jqplot/plugins/jqplot.categoryAxisRenderer.js"></script>
  <script type="text/javascript" src="./Site/jqplot/plugins/jqplot.pointLabels.js"></script>
  <link rel="stylesheet" type="text/css" href="./Site/jqplot/jquery.jqplot.css" />
  <style>
  table {
    width : 100%;
    border : 1px soild #444444;
    border-collapse: collapse;
  }
  th, td {
    border : 1px soild #444444;
    text-align: center;
  }
  </style>
  <!-- 표의 셀에 데이터를 입력 -->
  <script type="text/javascript">
      function setData(item_id, item_value, item_unit) {
          obj = document.getElementById(item_id);
          if (obj == null) {
              alert(item_id + ' 찾기 오류');
              return;
          }
          obj.innerHTML = item_value + " " + item_unit;
      }
  </script>
</head>
<body>
  <div class="container">
    <p>
      <div>
        <h2>세아 발전소</h2>
      </div>
    </p>
    <p>
      년월선택 : <input type="month" value="2010-10"></input>
      <button type="submit">조회</button>
      <button type="submit">엑셀</button>
    </p>
    <p>
      <table>
        <tbody>
          <tr>
            <td width="80%">
              <div id="chart1" style="width:100%;height:650px;"></div>
              <script>
                $(document).ready(function() {
                  $.jqplot.config.enablePlugins = true;
                  var s1 = [10071.4, 3966.6, 5682.4, 2003.9, 6258.8, 11931, 11735.3,
                    9078.7, 12056, 5373.4, 7133.4, 4189.3, 6723.4, 12225.9,
                    9200.6, 8686.2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
                  ];
                  var ticks = ['01', '02', '03', '04', '05', '06', '07', '08', '09',
                    '10', '11', '12', '13', '14', '15', '16', '17', '18',
                    '19', '20', '21', '22', '23', '24', '25', '26', '27',
                    '28', '29', '30', '31'
                  ];

                  plot1 = $.jqplot('chart1', [s1], {
                    // Only animate if we're not using excanvas (not in IE 7 or IE 8)..
                    animate: !$.jqplot.use_excanvas,
                    seriesDefaults: {
                      renderer: $.jqplot.BarRenderer,
                      rendererOptions: {
                        // Set the varyBarColor option to true to use different colors for each bar.
                        // The default series colors are used.
                        varyBarColor: true
                      },
                      pointLabels: {
                        show: true
                      }
                    },
                    axes: {
                      xaxis: {
                        renderer: $.jqplot.CategoryAxisRenderer,
                        ticks: ticks
                      }
                    },
                    highlighter: {
                      show: false
                    }
                  });

                  $('#chart1').bind('jqplotDataClick',
                    function(ev, seriesIndex, pointIndex, data) {
                      $('#info1').html('series: ' + seriesIndex + ', point: ' + pointIndex + ', data: ' + data);
                    }
                  );
                });
              </script>
            </td>
            <td>
              <table border="1px solid">
                <thead>
                  <tr>
                    <th bgColor='#76A3CF'>월(M)</th>
                    <th bgColor='#76A3CF'>발전량(kWh)</th>
                    <th bgColor='#76A3CF'>발전시간(h)</th>
                  </tr>
                </thead>
                <tbody>
                  <script>
                    var inverterData = [
                      [1, 0.0, 0.0],
                      [2, 0.0, 0.0],
                      [3, 0.0, 0.0],
                      [4, 0.0, 0.0],
                      [5, 0.0, 0.0],
                      [6, 0.0, 0.0],
                      [7, 0.0, 0.0],
                      [8, 0.0, 0.0],
                      [9, 0.0, 0.0],
                      [10, 0.0, 0.0],
                      [11, 0.0, 0.0],
                      [12, 0.0, 0.0],
                      [13, 0.0, 0.0],
                      [14, 0.0, 0.0],
                      [15, 0.0, 0.0],
                      [16, 0.0, 0.0],
                      [17, 0.0, 0.0],
                      [18, 0.0, 0.0],
                      [19, 0.0, 0.0],
                      [20, 138.0, 6.9],
                      [21, 33.0, 1.7],
                      [22, 58.0, 2.9],
                      [23, 95.0, 4.8],
                      [24, 98.0, 4.9],
                      [25, 78.0, 3.9],
                      [26, 108.0, 5.4],
                      [27, 67.0, 3.4],
                      [28, 75.0, 3.8],
                      [29, 60.0, 3.0],
                      [30, 19.0, 1.0]
                    ]
                    for (var i = 0; i < inverterData.length; i++) {
                      // 표에 데이터를 넣는다.
                      document.write("<tr>");
                      for (var j = 0; j < inverterData[0].length; j++) {
                        if (j == 0) {
                          document.write("<td bgColor='#E3E7F3'>");
                        }
                        else {
                          document.write("<td>");
                        }
                        document.write(inverterData[i][j]);
                        document.write("</td>");
                      }
                      document.write("</tr>");
                    }
                  </script>
                </tbody>
              </table>

              <table border="1px solid">
                <tbody>
                  <tr bgColor="#9ECDDF">
                  <td width="19.6%">평균</td>
                  <td id="averagePowerGeneration" width="42.3%"></td>
                  <td id="averagePowerHour"></td>
                </tr>
                </tbody>
              </table>

              <table border="1px solid">
                <tbody>
                  <tr bgColor="#7BA7D4">
                  <td width="19.6%">누계</td>
                  <td id="accumulationPowerGeneration" width="42.3%"></td>
                  <td id="accumulationPowerHour"></td>
                </tr>
                </tbody>
              </table>
            </td>
          </tr>
        </tbody>
      </table>
      <script type="text/javascript">
          setData("averagePowerGeneration", 75.4, "kWh");
          setData("averagePowerHour", 3.8, "h");
          setData("accumulationPowerGeneration", 0.83, "kWh");
          setData("accumulationPowerHour", 41.7, "h");
      </script>
    </p>
  </div>

</body>
</html>
